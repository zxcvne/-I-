<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ON PROGRAM</title>
  <link rel="stylesheet" href="../common/font.css">
  <link rel="stylesheet" href="../common/header.css">
  <link rel="stylesheet" href="onprogram.css">
</head>

<body>


  <div class="body-container">
    <!-- 헤더: 사이트 제목 -->
    <header>
      <h1 class="main-title">
        <span>RUN TOGETHER.</span>
        <span>SEOUL.</span>
      </h1>
    </header>

    <!-- 지도 섹션: Kakao 지도 표시 영역 -->
    <section class="map-section">
      <div id="map-container">
        <!-- 실제 지도가 여기에 렌더링됨 -->
        <div id="map"></div>

        <!-- 지도 확대/축소 버튼 (우측 하단) -->
        <div class="map-controls">
          <button id="zoom-in" title="지도 확대">+</button>
          <button id="zoom-out" title="지도 축소">-</button>
        </div>
      </div>
    </section>

    <!-- 검색 및 필터 섹션 -->
    <section class="search-section">

      <!-- 🔑 위치 검색 입력창 (Daum 우편번호 API 사용) -->
      <div class="search-wrapper">
        <input type="text" id="location-search" placeholder="내 위치 검색" readonly />
        <button id="search-btn" class="search-btn" type="button">
          <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor"
            class="bi bi-arrow-right-short" viewBox="0 0 16 16">
            <path fill-rule="evenodd"
              d="M4 8a.5.5 0 0 1 .5-.5h5.793L8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.293 8.5H4.5A.5.5 0 0 1 4 8" />
          </svg>
        </button>
      </div>

      <!-- 필터 버튼 그룹 -->
      <div class="filter-bar">
        <button class="filter-btn active" data-filter="near">근처</button>
        <button class="filter-btn" data-filter="pace">페이스</button>
        <button class="filter-btn" data-filter="distance">거리</button>
        <button class="filter-btn" data-filter="date">날짜</button>
        <button class="filter-btn" data-filter="date">나의 예약</button>
      </div>
    </section>

    <!-- 크루 리스트 섹션 -->
    <section class="run-list-section">
      <!-- 크루 카드들이 동적으로 생성되어 여기에 추가됨 -->
      <div id="run-list"></div>
    </section>
  </div>


  <script src="../common/header.js"></script>
  <!-- Kakao Maps SDK 로드 -->
  <script
    src="https://dapi.kakao.com/v2/maps/sdk.js?appkey=6f4bc481039c09610343c34091827586&libraries=services,clusterer,drawing"></script>

  <!-- 메인 JavaScript 파일 로드 -->
  <script src="onprogram.js" defer></script>

  <!-- 페이지 로드 완료 후 앱 초기화 -->
  <script>
    // 페이지가 완전히 로드될 때까지 기다림
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', () => {
        console.log('Kakao 객체 확인:', typeof kakao);
        if (typeof kakao !== 'undefined') {
          // Kakao Maps SDK가 정상적으로 로드되었으면 앱 초기화
          initApp();
        } else {
          console.error('Kakao API 키가 유효하지 않거나 로드되지 않았습니다.');
        }
      });
    } else {
      console.log('Kakao 객체 확인:', typeof kakao);
      if (typeof kakao !== 'undefined') {
        initApp();
      }
    }
  </script>


    <footer>
        <p>© On Running 2025 대한민국</p>
        <p>더 자세한 정보는 <a href="../QnA/QnA.html">문의하기</a>를 통해 연락해주세요.</p>
    </footer>


  <!-- 🔑 Daum 우편번호 API -->
  <script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>

</body>

</html>