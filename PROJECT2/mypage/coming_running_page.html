<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MY PAGE</title>

  <!-- 1. FullCalendar JS (CDN) -->
  <!-- [JS] FullCalendar 라이브러리. #calendar 요소를 제어합니다. -->
  <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.11/index.global.min.js"></script>
  
  <link rel="stylesheet" href="../common/font.css" />
  <link rel="stylesheet" href="../common/header.css" />
  <link rel="stylesheet" href="../mypage/mypagestyle/coming_running_page.css" />
</head>

<body>
  <script src="../common/header.js"></script>

  <!-- 2. 메인 컨테이너 시작 -->
  <main class="main-container">
    <!-- 3. 달력 컨테이너 -->
    <!-- [JS Target] [CSS Dynamic HTML] FullCalendar가 이 내부에 달력을 생성합니다. -->
    <div id="calendar-container">
      <div id="calendar"></div>
    </div>
    <!-- 3. 달력 컨테이너 끝 -->

    <!-- 4. 탭 버튼 -->
    <!-- [JS Target] [CSS State Toggle] 탭 버튼들. JS가 .active 클래스를 토글합니다. -->
    <div class="tab-container">
      <button class="tab-btn active" data-tab="upcoming-runs">
        다가오는 러닝
      </button>
      <button class="tab-btn" data-tab="past-runs">완주한 러닝</button>
    </div>
    <!-- 4. 탭 버튼 끝 -->

    <!-- 5. 검색 및 필터 UI 시작 -->
    <!-- [JS Target] 필터 패널 토글 버튼 -->
    <div class="search-container">
      <button id="search-toggle-btn">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
          stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="11" cy="11" r="8"></circle>
          <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
        </svg>
        <span>검색 및 필터</span>
      </button>
    </div>

    <!-- [JS Target] [CSS Class] 필터 패널. JS가 .active 클래스를 토글합니다. -->
    <div class="filter-panel" id="filter-panel">
      <div class="filter-columns">
        <!-- 날짜 (연도/월) -->
        <div class="filter-column">
          <h4>날짜</h4>
          <div class="date-filter-group">
            <!-- [JS Target] [CSS Dynamic HTML] 연도 <option>이 동적으로 채워집니다. -->
            <select id="filter-year" class="filter-select">
              <option value="all">연도 (전체)</option>
            </select>
            <!-- [JS Target] [CSS Dynamic HTML] 월 <option>이 동적으로 채워집니다. -->
            <select id="filter-month" class="filter-select">
              <option value="all">월 (전체)</option>
            </select>
          </div>
        </div>

        <!-- 레벨 -->
        <div class="filter-column">
          <h4>레벨</h4>
          <!-- [JS Target] JS가 체크된 라디오 버튼 값을 읽습니다. -->
          <ul class="filter-list" data-filter-group="level">
            <li>
              <label><input type="radio" name="level" value="all" checked />
                전체</label>
            </li>
            <li>
              <label><input type="radio" name="level" value="A" /> A</label>
            </li>
            <li>
              <label><input type="radio" name="level" value="B" /> B</label>
            </li>
            <li>
              <label><input type="radio" name="level" value="C" /> C</label>
            </li>
          </ul>
        </div>
      </div>

      <div class="filter-actions">
        <!-- [JS Target] 필터 초기화 버튼 -->
        <button id="filter-reset-btn">초기화</button>
        <!-- [JS Target] 필터 적용 버튼 -->
        <button id="filter-apply-btn">조회</button>
      </div>
    </div>
    <!-- 5. 검색 및 필터 UI 끝 -->

    <!-- 6. 탭 콘텐츠 컨테이너 시작 -->
    <div class="tab-content-container">
      <!-- 탭 1: 다가오는 러닝 -->
      <!-- [JS Target] [CSS Class] JS가 .active 클래스를 토글합니다. -->
      <div id="upcoming-runs" class="tab-content active">
        <div class="results-header">
          <h2 class="results-title">다가오는 러닝 목록</h2>
          <div class="sort-buttons">
            <!-- [JS Target] [CSS State Toggle] 날짜순 정렬 버튼 -->
            <button class="sort-btn" id="sort-by-date-upcoming" data-sort="date">
              날짜순
            </button>
            <!-- [JS Target] [CSS State Toggle] 이름순 정렬 버튼 -->
            <button class="sort-btn" id="sort-by-name-upcoming" data-sort="name">
              이름순
            </button>
          </div>
        </div>
        <!-- [JS Target] [CSS Dynamic HTML] '다가오는 러닝' 목록이 이 안에 렌더링됩니다. -->
        <div class="registered-list" id="filtered-results-list">
          <p class="empty-list-message">신청한 러닝 목록을 불러오는 중...</p>
        </div>
      </div>

      <!-- 탭 2: 참여한 러닝 -->
      <!-- [JS Target] [CSS Class] JS가 .active 클래스를 토글합니다. -->
      <div id="past-runs" class="tab-content">
        <div class="results-header">
          <h2 class="results-title">참여한 러닝 목록</h2>
          <div class="sort-buttons">
            <!-- [JS Target] [CSS State Toggle] 날짜순 정렬 버튼 -->
            <button class="sort-btn" id="sort-by-date-past" data-sort="date">
              날짜순
            </button>
            <!-- [JS Target] [CSS State Toggle] 이름순 정렬 버튼 -->
            <button class="sort-btn" id="sort-by-name-past" data-sort="name">
              이름순
            </button>
          </div>
        </div>
        <!-- [JS Target] [CSS Dynamic HTML] '참여한 러닝' 목록이 이 안에 렌더링됩니다. -->
        <div class="registered-list" id="past-runs-list">
          <p class="empty-list-message">
            참여 완료한 러닝 기록을 불러오는 중...
          </p>
        </div>
      </div>
    </div>
    <!-- 6. 탭 콘텐츠 컨테이너 끝 -->
  </main>
  <!-- 2. 메인 컨테이너 끝 -->

  <!-- ====================================================== -->
  <!-- ================= JAVASCRIPT 시작 ==================== -->
  <!-- ====================================================== -->
  <script src="../mypage/mypagesrc/coming_running_page.js"></script>
</body>

</html>