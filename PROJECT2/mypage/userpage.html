<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MY PAGE</title>

  <link rel="stylesheet" href="../common/font.css" />
  <link rel="stylesheet" href="../common/header.css" />

  <!-- **ê²½ë¡œìˆ˜ì •** -->
  <link rel="stylesheet" href="../mypage/mypagestyle/userpage.css" />
</head>

<body>
  <script src="../common/header.js"></script>
  <!-- ë©”ì¸ ì½˜í…ì¸  ì»¨í…Œì´ë„ˆ ì‹œì‘ -->
  <div class="main-container">
    <!-- 1. í”„ë¡œí•„ ì„¹ì…˜: ì‚¬ìš©ì ê¸°ë³¸ ì •ë³´, í†µê³„, ë²„íŠ¼ í‘œì‹œ -->

    <div class="mypage-header">
      <span id="userNameDisplay">ê¹€ëŸ¬ë‹</span>
      <span>ë‹˜ ì•ˆë…•í•˜ì„¸ìš”</span>
    </div>

    <div class="profile-container">
      <!-- í”„ë¡œí•„ í…ìŠ¤íŠ¸ ì •ë³´ -->
      <div class="profile-info-box">
        <!-- í†µê³„ -->
        <div class="profile-stats-box">
          <!-- <div class="profile-stats-item">
            <span class="profile-bio" id="userBioDisplay">
              í˜¼ìì„œë„ ì˜ ë‹¬ë¦¬ê³ , í•¨ê»˜ ë‹¬ë¦¬ëŠ” ê²ƒë„ ì¢‹ì•„í•˜ëŠ” ëŸ¬ë„ˆì…ë‹ˆë‹¤! ğŸƒâ€â™‚ï¸
            </span>
          </div> -->

          <script>
            (function() {
              try {
                const loggedInUser = sessionStorage.getItem("loggedInUser");
                if (loggedInUser) {
                  const user = JSON.parse(loggedInUser);
                  const userName = user.name || null;
                  
                  if (userName) {
                    // 1. ì´ë¦„ ì¦‰ì‹œ êµì²´
                    const userNameEl = document.getElementById("userNameDisplay");
                    if (userNameEl) {
                      userNameEl.textContent = userName;
                    }
                    
                    // 2. Bio í…ìŠ¤íŠ¸ ì¦‰ì‹œ êµì²´
                    const userBioEl = document.getElementById("userBioDisplay");
                    if (userBioEl) {
                      userBioEl.textContent = `${userName}ë‹˜ì€ í•¨ê»˜ ë‹¬ë¦¬ëŠ” ê¸°ì¨ì„ ì•„ëŠ” ëŸ¬ë„ˆì…ë‹ˆë‹¤! ğŸƒâ€â™‚ï¸`;
                    }
                  }
                }
              } catch (e) {
                console.error("ì¸ë¼ì¸ ìŠ¤í¬ë¦½íŠ¸ ì˜¤ë¥˜:", e);
                // ì˜¤ë¥˜ ë°œìƒ ì‹œ ê¸°ë³¸ HTML í…ìŠ¤íŠ¸("ë¹„íšŒì›")ê°€ í‘œì‹œë©ë‹ˆë‹¤.
              }
            })();
          </script>

          <div class="profile-stats-item">
            <span class="profile-description">ON RUNNINGê³¼ ì§€ê¸ˆê¹Œì§€ ì´</span>
            <!-- [JS Target] JSê°€ ì´ ì°¸ì—¬ íšŸìˆ˜ë¥¼ ì±„ì›Œë„£ëŠ” ê³³ -->
            <span class="stat-value" id="totalRunsDisplay">0</span>
            <span class="profile-description">íšŒì˜ ëŸ¬ë‹ í”„ë¡œê·¸ë¨ì„ ì™„ì£¼í•˜ì…¨ë„¤ìš”.</span>
          </div>
          <div class="profile-stats-item">
            <span class="profile-description">ON RUNNINGê³¼ í•¨ê»˜ ì´</span>
            <!-- [JS Target] JSê°€ ì´ ê±°ë¦¬ë¥¼ ì±„ì›Œë„£ëŠ” ê³³ -->
            <span class="stat-value" id="totalDistanceDisplay">0.0</span>
            <span class="profile-description"> kmë¥¼ ë‹¬ë ¸ìŠµë‹ˆë‹¤.</span>
          </div>
        </div>

        <!-- ë²„íŠ¼ ê·¸ë£¹ -->
        <div class="profile-buttons-box">
          <button class="link-btn card-view-button" id="viewMyCardBtn">
            <!-- ... (QR ì½”ë“œ SVG) ... -->
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
            class="btn-icon lucide lucide-qr-code">
            <rect width="5" height="5" x="3" y="3" rx="1" />
            <rect width="5" height="5" x="16" y="3" rx="1" />
            <rect width="5" height="5" x="3" y="16" rx="1" />
            <path d="M21 16h-3a2 2 0 0 0-2 2v3" />
            <path d="M21 21v.01" />
            <path d="M12 7v3a2 2 0 0 1-2 2H7" />
            <path d="M3 12h.01" />
            <path d="M12 3h.01" />
            <path d="M12 16h.01" />
            <path d="M16 12h.01" />
            <path d="M21 12h.01" />
          </svg>
          <span>ë‚˜ì˜ ì¹´ë“œ</span>
        </button>
        <div class="wrapper">
            

          <!-- ë¡œê·¸ì•„ì›ƒ ë²„íŠ¼ ì˜ˆì‹œ (í”„ë¡œí•„ ë²„íŠ¼ ì˜†ì´ë‚˜ í•˜ë‹¨ì— ë°°ì¹˜) -->
          <button id="logoutBtn" class="link-btn logout-button">ë¡œê·¸ì•„ì›ƒ</button>
            
      
            <!-- [JS Target] 'í”„ë¡œí•„ ìˆ˜ì •' í˜ì´ì§€ ì´ë™ ë²„íŠ¼ -->
            <button class="link-btn edit-profile-button" id="editProfileBtn">
              í”„ë¡œí•„ ìˆ˜ì •
            </button>
            <!-- [JS Target] 'ë‚˜ì˜ ì¹´ë“œ' íŒì—… ë²„íŠ¼ -->
            <!-- [JS Target] 'MY GEAR' ì„ì‹œ ë²„íŠ¼ -->
            <button class="link-btn my-gear-button" id="myGearBtn">
              MY GEAR
            </button>
          </div>
        </div>
      </div>

      <!-- â­ï¸ [ì‹ ê·œ] ì¹´ë“œ 2: ë‹¤ìŒ ëŸ¬ë‹ -->
      <div class="dashboard-card-item next-run-card">
        <h2 class="card-title">ë‚˜ì˜ ë‹¤ìŒ ëŸ¬ë‹ í”„ë¡œê·¸ë¨</h2>
        <!-- [JS Dynamic Content] JSê°€ 'ë‹¤ìŒ ëŸ¬ë‹' ì •ë³´ë¥¼ ì±„ì›Œë„£ëŠ” ê³³ -->
        <!-- â­ï¸ 'ë‹¤ìŒ ëŸ¬ë‹' ì •ë³´ê°€ í‘œì‹œë  ìƒˆ ì»¨í…Œì´ë„ˆ -->
        <div class="next-run-info-card" id="nextRunInfoDisplay">
          <p class="no-run-message">ì˜ˆì •ëœ ëŸ¬ë‹ì„ ì°¾ëŠ” ì¤‘...</p>
        </div>
      </div>


    </div>
    <!-- 1. í”„ë¡œí•„ ì„¹ì…˜ ë -->

    <!-- 2. ëŒ€ì‹œë³´ë“œ ì„¹ì…˜: 3ê°œ ì¹´ë“œ (ë‚˜ì˜ ëŸ¬ë‹, ìŠ¤íƒ¬í”„, ë¶ë§ˆí¬) -->
    <div class="dashboard-container">
      <div class="dashboard-list">
        <!-- ì¹´ë“œ 1: ë‚˜ì˜ ëŸ¬ë‹ -->
        <!-- [JS State] ë¹„ë¡œê·¸ì¸ ì‹œ ì´ ì¹´ë“œì— .restricted í´ë˜ìŠ¤ ì¶”ê°€ë¨ -->
        <div class="dashboard-card-item">
          <h2 class="card-title">ë‚˜ì˜ ëŸ¬ë‹</h2>

          <!-- â­ï¸ [ì‹ ê·œ] ì˜ˆì •ëœ ëŸ¬ë‹ ê±´ìˆ˜ í‘œì‹œ -->
          <span class="stat-value" id="upcomingRunsCountDisplay">0</span>

          <!-- [JS Target] 'ë” ë³´ê¸°' ë²„íŠ¼ (coming_running_page.htmlë¡œ ì´ë™) -->
          <button class="card-btn" id="upcomingRunsBtn">ë”ë³´ê¸° ></button>
        </div>
        <!-- ì¹´ë“œ 2: ë¶ë§ˆí¬ -->
        <!-- [JS State] ë¹„ë¡œê·¸ì¸ ì‹œ ì´ ì¹´ë“œì— .restricted í´ë˜ìŠ¤ ì¶”ê°€ë¨ -->
        <div class="dashboard-card-item">
          <h2 class="card-title">ë¶ë§ˆí¬</h2>
          <!-- [JS Target] ë¶ë§ˆí¬ ê°œìˆ˜ í‘œì‹œ -->
          <span class="stat-value" id="bookmarkCountDisplay">0</span>
          <!-- [JS Target] 'ë¶ë§ˆí¬' í˜ì´ì§€ ì´ë™ ë²„íŠ¼ -->
          <button class="card-btn" id="viewBookmarksBtn">ëª©ë¡ë³´ê¸° ></button>
        </div>

        <!-- ì¹´ë“œ 3: ìŠ¤íƒ¬í”„ í˜„í™© -->
        <!-- [JS State] ë¹„ë¡œê·¸ì¸ ì‹œ ì´ ì¹´ë“œì— .restricted í´ë˜ìŠ¤ ì¶”ê°€ë¨ -->
        <div class="dashboard-card-item">
          <h2 class="card-title">ìŠ¤íƒ¬í”„</h2>
          <!-- [JS Target] ìŠ¤íƒ¬í”„ ê°œìˆ˜ í‘œì‹œ -->
          <span class="stat-value" id="stampCountDisplay">0</span>
          <!-- [JS Target] ìŠ¤íƒ¬í”„ ëª¨ë‹¬ ì—´ê¸° ë²„íŠ¼ -->
          <button class="card-btn" id="stampListBtn">ë”ë³´ê¸° ></button>
        </div>

      </div>
    </div>
    <!-- 2. ëŒ€ì‹œë³´ë“œ ì„¹ì…˜ ë -->
  </div>
  <!-- ë©”ì¸ ì½˜í…ì¸  ì»¨í…Œì´ë„ˆ ë -->
  <div class="footer-container">
    <p>&copy; 2025 ON RUNNING. ALL RIGHTS RESERVED.</p>
  </div>

  <!-- í‘¸í„° ì‹œì‘ -->
  <!-- í‘¸í„° ë -->

  <!-- ====================================================== -->
  <!-- =================== ëª¨ë‹¬ ì˜ì—­ ì‹œì‘ =================== -->
  <!-- ====================================================== -->

  <!-- â­ï¸ ìŠ¤íƒ¬í”„ ëª¨ë‹¬ -->
  <!-- [JS Target] JSê°€ ì´ ëª¨ë‹¬ì— .active í´ë˜ìŠ¤ë¥¼ ì¶”ê°€/ì œê±°í•˜ì—¬ í‘œì‹œ/ìˆ¨ê¹€ -->
  <div class="modal-overlay" id="stampModalOverlay">
    <div class="modal-content modal-sm">
      <!-- [JS Target] ëª¨ë‹¬ ë‹«ê¸° ë²„íŠ¼ -->
      <button class="modal-close-btn" id="stampModalCloseBtn">&times;</button>
      <h2>ìŠ¤íƒ¬í”„ í˜ì´ì§€</h2>
      <!-- [JS Dynamic Content] ìŠ¤íƒ¬í”„ ê·¸ë¦¬ë“œ ë‚´ìš©ì´ ì±„ì›Œì§€ëŠ” ê³³ -->
      <div class="stamp-grid">
        <!-- JSì— ì˜í•´ ë™ì ìœ¼ë¡œ ì±„ì›Œì§‘ë‹ˆë‹¤ -->
      </div>
      <!-- [JS Target] ìŠ¤íƒ¬í”„ ìƒíƒœ ë©”ì‹œì§€ -->
      <p class="stamp-status" id="stampModalStatus">ì•ìœ¼ë¡œ 0ê°œ ë‚¨ì•˜ìŠµë‹ˆë‹¤.</p>
    </div>
  </div>
  <!-- â­ï¸ ìŠ¤íƒ¬í”„ ëª¨ë‹¬ ë â­ï¸ -->

  <!-- â­ï¸ ë¶ë§ˆí¬ ëª¨ë‹¬ -->
  <!-- [JS Target] JSê°€ ì´ ëª¨ë‹¬ì— .active í´ë˜ìŠ¤ë¥¼ ì¶”ê°€/ì œê±°í•˜ì—¬ í‘œì‹œ/ìˆ¨ê¹€ -->
  <div class="modal-overlay" id="bookmarkModalOverlay">
    <div class="modal-content">
      <!-- [JS Target] ëª¨ë‹¬ ë‹«ê¸° ë²„íŠ¼ -->
      <button class="modal-close-btn" id="bookmarkModalCloseBtn">
        &times;
      </button>
      <h2>ë¶ë§ˆí¬í•œ ëŸ¬ë‹ ëª©ë¡</h2>
      <div class="bookmark-modal-list">
        <!-- [JS Dynamic Content] ë¶ë§ˆí¬ ë¦¬ìŠ¤íŠ¸ ë‚´ìš©ì´ ì±„ì›Œì§€ëŠ” ê³³ -->
        <!-- .registered-list ìŠ¤íƒ€ì¼ì´ ì—¬ê¸°ì„œ ì¬ì‚¬ìš©ë©ë‹ˆë‹¤ -->
        <div class="registered-list" id="bookmarkModalList">
          <!-- ì—¬ê¸°ì— ë¶ë§ˆí¬ ë°ì´í„° ê¸°ë°˜ìœ¼ë¡œ í•­ëª©ì´ ì±„ì›Œì§‘ë‹ˆë‹¤. -->
        </div>
      </div>
    </div>
  </div>
  <!-- â­ï¸ ë¶ë§ˆí¬ ëª¨ë‹¬ ë â­ï¸ -->

  <!-- ====================================================== -->
  <!-- ================= JAVASCRIPT ì‹œì‘ ==================== -->
  <!-- ====================================================== -->

  <!-- â­ï¸ [ìˆ˜ì •] ë¶„ë¦¬ëœ userpage.js íŒŒì¼ ë§í¬ ê²½ë¡œ ìˆ˜ì • -->
  <!-- userpage.js -> ../../mypagesrc/userpage.js -->
  <script src="mypagesrc/userpage.js"></script>

  <!-- â­ï¸ [ìˆ˜ì •] ê³µí†µ í—¤ë” JS ì¶”ê°€ (ê²½ë¡œ ìˆ˜ì •) -->
  <!-- ../common/header.js -> ../../../common/header.js -->
  <script src="../common/header.js"></script>
</body>

</html>